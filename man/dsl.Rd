% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dsl.R
\name{dsl}
\alias{dsl}
\title{Estimating Regression using the DSL framework}
\usage{
dsl(
  model = "lm",
  formula,
  predicted_var,
  prediction = NULL,
  data,
  cluster = NULL,
  labeled = NULL,
  sample_prob = NULL,
  index = NULL,
  fixed_effect = "oneway",
  sl_method = "grf",
  feature = NULL,
  family = "gaussian",
  cross_fit = 5,
  sample_split = 5,
  unc_label = FALSE,
  unc_label_sim = 50,
  tuning = TRUE,
  seed = 1234
)
}
\arguments{
\item{model}{A regression model \code{dsl} currently supports \code{lm} (linear regression), \code{logit} (logistic regression), \code{poisson} (poisson regression), and \code{felm} (fixed-effects regression).}

\item{formula}{A formula used in the specified regression model.}

\item{predicted_var}{A vector of column names in the data that correspond to variables that need to be predicted. When \code{unc_label = TRUE}, this should be \code{list} where each element of the list contains variable names specifying labels from different coders.}

\item{prediction}{A vector of column names in the data that correspond to predictions of \code{predicted_var}.}

\item{data}{A data frame. The class should be \code{data.frame}.}

\item{cluster}{A column name in the data that indicates the level at which cluster standard errors are calculated. Default is \code{NULL}.}

\item{labeled}{(Optional) A column name in the data that indicates which observation is labeled. It should be a vector of 1 (labeled) and 0 (non-labeled). When \code{NULL}, the function assumes that observations that have \code{NA} in \code{predicted_var} are non-labeled and other observations are labeled.}

\item{sample_prob}{(Optional) A column name in the data that correspond to the sampling probability for labeling a particular observation. When \code{NULL}, the function assumes random sampling with equal probabilities.}

\item{index}{(Used when \code{model = "felm"}) A vector of column names specifying fixed effects. When \code{fixed_effect = oneway}, it has one element. When \code{fixed_effect = twoways}, it has two elements, e.g., \code{index = c("state", "year")}.}

\item{fixed_effect}{(Used when \code{model = "felm"}) A type of fixed effects regression you run. \code{oneway} (one-way fixed effects) or \code{twoways} (two-way fixed effects).}

\item{sl_method}{A name of a supervised machine learning model used internally to predict \code{predicted_var} by fine-tuning \code{prediction} or using predictors (specified in \code{feature}) when \code{prediction = NULL}. Users can run \code{available_method()} to see available supervised machine learning methods. Default is \code{grf} (generalized random forest).}

\item{feature}{A vector of column names in the data that correspond to predictors used to fit a supervised machine learning (specified in \code{sl_method}).}

\item{family}{(Used when making predictions) A variable type of \code{predicted_var}. Default is \code{gaussian}.}

\item{cross_fit}{The fold of cross-fitting. Default is \code{5}.}

\item{sample_split}{The number of sampling-splitting. Default is \code{10}.}

\item{unc_label}{A logical value (\code{True}, or \code{FALSE}) indicating whether to apply the quasi-Bayesian approach to incorporate uncertainties in labels. Default is \code{FALSE}.}

\item{unc_label_sim}{(Used when \code{unc_label = TRUE}) The number of re-sampling of labels within each observation. Default is \code{100}.}

\item{tuning}{A logical value (\code{True}, or \code{FALSE}) indicating whether to apply the power-tuning. Default is \code{TRUE}.}

\item{seed}{Numeric \code{seed} used internally. Default is \code{1234}.}
}
\value{
\code{dsl} returns an object of \code{dsl} class.
 \itemize{
   \item \code{coefficients}: Estimated coefficients.
   \item \code{standard_errors}: Estimated standard errors.
   \item \code{vcov}: Estimated variance-covariance matrix.
   \item \code{RMSE}: Root mean squared error in the internal prediction step.
   \item \code{internal}: Outputs used only for the internal use.
 }
}
\description{
Estimating Regression using the DSL framework
}
